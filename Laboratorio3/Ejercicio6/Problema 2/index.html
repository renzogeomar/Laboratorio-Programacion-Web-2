<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <title>Pagina para hacer operaciones</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <div id="principal">
            <h1>Presionar para seleccionar campo</h1>
            <p>Esta página web le permite realizar las operaciones aritmética, lógicas y de bits básicas</p>
            <button onclick="seleccionarInterfaz('aritmetica')" id="aritmetica">Operaciones aritméticas</button>
            <button onclick="seleccionarInterfaz('logica')" id="logica">Operaciones lógicas</button>
            <button onclick="seleccionarInterfaz('bits')" id="bits">Operaciones de bits</button>

        </div>
        <div id="interfaz">

        </div>
        <script>
            function seleccionarInterfaz(tipo){
                let interfaz = document.getElementById("interfaz");
                if (tipo === "aritmetica") {
                    operacionesAritmeticas();
                    //interfaz.innerHTML = "<p>Interfaz de operaciones aritméticas (próximamente)</p>";
                } else if (tipo === "logica") {
                    operacionesLogicas();
                    //interfaz.innerHTML = "<p>Interfaz de operaciones lógicas (próximamente)</p>";
                } else if (tipo === "bits") {
                    interfaz.innerHTML = "<p>Interfaz de operaciones de bits (próximamente)</p>";
                }
                
            }
            function operacionesAritmeticas(){
                let interfaz = document.getElementById("interfaz");
                let html = `
                    <h2>Operaciones aritméticas</h2>
                    <input type="number" id="num1" placeholder="Número 1">
                    <input type="number" id="num2" placeholder="Número 2">

                    <select id="operacion">
                        <option value="sumar">Sumar</option>
                        <option value="restar">Restar</option>
                        <option value="multiplicar">Multiplicar</option>
                        <option value="dividir">Dividir</option>
                    </select>

                    <button onclick="calcular()">Calcular</button>
                    <p id="resultado"></p>
                `;

                interfaz.innerHTML = html;

            }
            function calcular(){
                let num1 = parseFloat(document.getElementById("num1").value);
                let num2 = parseFloat(document.getElementById("num2").value);
                let operacion = document.getElementById("operacion").value;
                let resultado = document.getElementById("resultado");
                let res;
                if (isNaN(num1) || isNaN(num2)) {
                    alert("Por favor ingrese números válidos.");
                    return;
                }
                switch (operacion) {
                    case "sumar":
                        res = num1 + num2;
                        break;
                    case "restar":
                        res = num1 - num2;
                        break;
                    case "multiplicar":
                        res = num1 * num2;
                        break;
                    case "dividir":
                        if (num2 !== 0) {
                            res = num1 / num2;
                        } else {
                            res = "Error: División por cero";
                        }
                        break;
                }
                resultado.innerText = "Resultado: " + res;
            }
            function operacionesLogicas(){
                let interfaz = document.getElementById("interfaz");
                let html = `
                    <h2>Operaciones lógicas</h2>
                    <select id="num1">
                        <option value="v">Verdadero (v)</option>
                        <option value="f">Falso (f)</option>
                    </select>
                    <select id="num2">
                        <option value="v">Verdadero (v)</option>
                        <option value="f">Falso (f)</option>
                    </select>
                    <select id="operacion">
                        <option value="and">∧ (AND)</option>
                        <option value="or">∨ (OR)</option>
                        <option value="not">¬ (NOT - solo num1)</option>
                        <option value="equiv">↔ (Si y solo si)</option>
                        <option value="implica">→ (Entonces)</option>
                    </select>
                    <button onclick="calcularLogica()">Calcular</button>
                    <p id="resultado"></p>
                `;
                interfaz.innerHTML = html;
                document.getElementById("operacion").addEventListener("change", function () {
                    const operacion = this.value;
                    const num2 = document.getElementById("num2");

                    if (operacion === "not") {
                        num2.disabled = true;
                        num2.value = ""; //limpiar el campo
                    } else {
                        num2.disabled = false;
                    }
                });
            }
            function calcularLogica(){
                let num1 = document.getElementById("num1").value.toLowerCase();
                let num2 = document.getElementById("num2").value.toLowerCase();
                let operacion = document.getElementById("operacion").value;
                let resultado = document.getElementById("resultado");
                let res;
                if (num1 !== "v" && num1 !== "f") {
                    alert("Por favor ingrese valores booleanos válidos (v o f).");
                    return;
                }
                if (operacion !== "not" && (num2 !== "v" && num2 !== "f")) {
                    alert("Por favor ingrese 'v' o 'f' como valor para el segundo número.");
                    return;
                }
                let bool1 = (num1 === "v");
                let bool2 = (num2 === "v");
                switch (operacion) {
                    case "and":
                        res = bool1 && bool2;
                        break;
                    case "or":
                        res = bool1 || bool2;
                        break;
                    case "not":
                        res = !bool1;
                        break;
                    case "equiv":
                        res = bool1 === bool2;
                        break;
                    case "implica":
                        res = !bool1 || bool2; // A → B = ¬A ∨ B
                        break;
                    default:
                        res = "Operación no válida";
                }

                resultado.innerText = "Resultado: " + (res ? "v" : "f");
            }
            function operacionesBits(){
                let interfaz = document.getElementById("interfaz");
                let html = `
                    <h2>Operaciones de bits</h2>
                    <input type="number" id="num1" placeholder="Número 1">
                    <input type="number" id="num2" placeholder="Número 2">

                    <select id="operacion">
                        <option value="and">AND</option>
                        <option value="or">OR</option>
                        <option value="xor">XOR</option>
                        <option value="not">NOT (solo num1)</option>
                    </select>

                    <button onclick="calcularBits()">Calcular</button>
                    <p id="resultadoBinario"></p>
                    <p id="resultadoDecimal"></p>
                `;

                interfaz.innerHTML = html;
            }
        </script>

    </body>
    </head>
</html>