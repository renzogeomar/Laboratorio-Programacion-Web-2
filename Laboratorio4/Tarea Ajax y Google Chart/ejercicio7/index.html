<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="css/style.css" />
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <title>Presione la región que desea visualizar: </title>
    <style>
        #principal {
            width: 100%;
            height: 700px;
        }
        .boton-region {
            margin: 5px;
            padding: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Selecciona una región para ver su gráfico (excepto Lima y Callao):</h1>
    <div id="botones"></div>
    <div id="principal"></div>

    <script>
        let datosGlobales = [];

        // Cargar Google Charts
        google.charts.load("current", { packages: ["corechart"] });

        // Cargar datos desde data.json
        function cargarDatos() {
            const xhttp = new XMLHttpRequest();
            xhttp.open("GET", "../data.json", true);
            xhttp.onload = function () {
                if (xhttp.status === 200) {
                    datosGlobales = JSON.parse(xhttp.responseText);
                    crearBotones();
                } else {
                    console.error("Error al cargar el archivo data.json");
                }
            };
            xhttp.onerror = function () {
                console.error("Error de conexión al intentar cargar el archivo data.json");
            };
            xhttp.send();
        }

        // Crear botones por región (excepto Lima y Callao)
        function crearBotones() {
            const contenedor = document.getElementById("botones");
            datosGlobales.forEach(region => {
                if (region.region !== "Lima" && region.region !== "Callao") {
                    const boton = document.createElement("button");
                    boton.textContent = region.region;
                    boton.className = "boton-region";
                    boton.onclick = function () {
                        mostrarGrafico(region);
                    };
                    contenedor.appendChild(boton);
                }
            });
        }

        // Mostrar gráfico para una región

    </script>
</body>
</html>